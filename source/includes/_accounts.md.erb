## Accounts (beta)

When using Quaderno Connect, you need to create an account (known as a connected account) for each user that needs to calculate taxes on your platform. These accounts are generally created when a user signs up for your platform.

### Create an account

> `POST /accounts.json`

```cURL
curl -u YOUR_API_KEY:x \
     -H 'Content-Type: application/json' \
     -X POST \
     -d '{"business_name":"Big Bang Inc.", "type":"custom", "country":"US", "postal_code":"10001", "email":"s.cooperphd@yahoo.com" }' \
     'https://ACCOUNT_NAME.quadernoapp.com/api/accounts.json' 
```

`POST`ing to `/accounts.json` will create a new account from the parameters passed.

This will return `201 Created` and the current JSON representation of the account if the creation was a success, along with the location of the new account in the `url` field.

Attributes:

Attribute               | Type      | Description
------------------------|-----------|----------------------------------------------------------------------------
`business_name`         | string    | The account's business name. **Required**
`email`                 | string    | The account's email address. **Required**
`country`               | string    | The account's country. 2-letter country code. **Required**
`postal_code`           | string    | The account's postal code. Recommended whether the account is based in the US or Canada to determine the state/province.
`currency`              | string    | The account's accounting currency. Defaults to the country's official currency.
`default_tax_class`     | string    | The account's default tax class. Can be `eservice`, `ebook`, `saas`, `standard`, `reduced`, `exempted`. Defaults to the creator's default tax class.
`local_tax_id`          | string    | The account's tax ID. If set, the account will be registered for tax collection in the `country`'s jurisdiction.

### Retrieve an account

> `GET /accounts/ACCOUNT_ID.json`

```cURL
curl -u YOUR_API_KEY:x \
     -X GET 'https://ACCOUNT_NAME.quadernoapp.com/api/accounts/ACCOUNT_ID.json'
```

```json
{
    "id": 456987213,
    "type":"custom",
    "business_name":"Sheldon",
    "country":"US",
    "currency":"USD",
    "default_tax_class":"eservice",
    "email":"s.cooperphd@yahoo.com",
    "state":"active",
    "created_at":"1611167152",
    "url":"https://ACCOUNT_NAME.quadernoapp.com/api/accounts/456987213"
}
```

`GET`ting from `/accounts/ACCOUNT_ID.json` will get you that specific account.

### Update an account

> `PUT /accounts/ACCOUNT_ID.json`

```cURL
curl -u YOUR_API_KEY:x \
     -H 'Content-Type: application/json' \
     -X PUT \
     -d '{ "business_name":"Another Name Inc." }' \
     'https://ACCOUNT_NAME.quadernoapp.com/api/accounts/ACCOUNT_ID.json'
```

`PUT`ing to `/accounts/ACCOUNT_ID.json` will update the account from the passed parameters.

This will return `200 OK` and a JSON representation of the account if successful.

Attributes:

Attribute               | Type      | Description
------------------------|-----------|----------------------------------------------------------------------------
`business_name`         | string    | The accounts's business name.
`email`                 | string    | The account's email address.
`default_tax_class`     | string    | The account's default tax class. Can be `eservice`, `ebook`, `saas`, `standard`, `reduced`, `exempted`. Default the creator's default tax class.

### List all accounts

> `GET /accounts.json`

```cURL
curl -u YOUR_API_KEY:x \
     -X GET 'https://ACCOUNT_NAME.quadernoapp.com/api/accounts.json'
```

```json
[
  {
    "id": 456987213,
    "type":"custom",
    "business_name":"Sheldon",
    "country":"US",
    "currency":"USD",
    "default_tax_class":"eservice",
    "email":"s.cooperphd@yahoo.com",
    "state":"active",
    "created_at":"1611167152",
    "url":"https://ACCOUNT_NAME.quadernoapp.com/api/accounts/456987213"
  },
  {
    "id": 456982365,
    "type":"custom",
    "business_name":"Apple Inc.",
    "country":"US",
    "currency":"USD",
    "default_tax_class":"eservice",
    "email":"info@apple.com",
    "state":"active",
    "created_at":"1611167152",
    "url":"https://ACCOUNT_NAME.quadernoapp.com/api/accounts/456982365"
  }
]
```

`GET`ting from `/accounts.json` will return all the user's accounts.
